# グラフを作成します

## 概要

この演習では、GRAPH StudioとCREATE PROPERTY GRAPH文を使用して、`bank_accounts`表および`bank_txns`表からグラフを作成します。

見積時間: 15分。

ラボのクイック・ウォークスルーについては、次のビデオをご覧ください。[ウォークスルー](videohub:1_j5xjw77c)

### 目標

次の方法を学習します

*   既存の表またはビューからグラフをモデル化および作成するには、GRAPH StudioおよびPGQL DDL (つまり、CREATE PROPERTY GRAPH文)を使用します。

### 前提条件

*   次の演習では、Autonomous Database - 共有インフラストラクチャ・アカウントが必要です。
*   グラフ対応ユーザー(`GRAPHUSER`)が存在すること。つまり、正しいロールおよび権限を持つデータベース・ユーザーが存在します。

## タスク1: 勘定科目とトランザクションのグラフの作成

1.  **「グラフ」**アイコンをクリックして移動し、グラフを作成します。  
    次に、**「グラフの作成」**をクリックします。
    
    ![作成ボタン・モデラーの位置を示します](images/graph-create-button.png " ")
    
2.  グラフ名として`bank_graph`と入力し、**「次へ」**をクリックします。説明およびタグのフィールドはオプションです。  
    このグラフ名は、次の演習全体で使用されます。  
    次の演習の問合せおよびコード・スニペットは失敗するため、別の名前を入力しないでください。
    
    ![グラフに名前を割り当てるグラフ作成ウィンドウを示します](./images/create-graph-dialog.png " ")
    
3.  **「GRAPHUSER」**を展開し、`BANK_ACCOUNTS`表および`BANK_TXNS`表を選択します。
    
    ![BANK_ACCOUNTSおよびBANK_TXNSの選択方法を示します](./images/select-tables.png " ")
    
4.  それらを右に移動します。つまり、シャトル・コントロールの最初のアイコンをクリックします。
    
    ![選択した表を表示します](./images/selected-tables.png " ")
    
5.  **「次へ」**をクリックします。このグラフを編集および更新して、エッジと頂点ラベルを追加します。
    
    参照する外部キー制約が`BANK_TXNS`に指定されているため、推奨されるグラフには頂点表として`BANK_ACCOUNTS`があります。
    
    また、`BANK_TXNS`は推奨されるエッジ表です。
    
    ![頂点とエッジ表を表示します](./images/create-graph-suggested-model.png " ")
    
6.  次に、デフォルトの頂点ラベルとエッジ ラベルを変更します。
    
    `BANK_ACCOUNTS`頂点表をクリックします。「頂点ラベル」を**「ACCOUNTS」**に変更します。次に、チェックマークをクリックしてラベルを確認し、更新を保存します。
    
    ![頂点のラベル名をAccountsに変更](images/edit-accounts-vertex-label.png " ")
    
    `BANK_TXNS`エッジ表をクリックし、エッジ・ラベルの名前を`BANK_TXNS`から**TRANSFERS**に変更します。次に、チェックマークをクリックしてラベルを確認し、更新を保存します。
    
    ![エッジのラベル名を「転送」に変更](images/edit-edge-label.png " ")
    
    このワークショップの次の演習で、グラフの問合せ時にこれらのエッジ・ラベルを使用するため、これは**重要**です。**「次へ」**をクリックします。
    

7.  「サマリー」ステップで、**「グラフの作成」**をクリックします。これにより、「グラフの作成」タブが開き、\*\*「グラフの作成」をクリックします。
    
    ![ジョブ・ステータスが「成功」のジョブ・タブを示します](./images/jobs-create-graph.png " ")
    
    「グラフの作成」タブが開き、**「グラフの作成」**をクリックします。
    
    ![インメモリー有効および「グラフの作成」ボタンを表示します](./images/create-graph-in-memory.png " ")
    
    その後、グラフが作成されるジョブ・ページが表示されます。
    
    これで、このラボは終了です。**次の演習に進むことができます。**
    

## 謝辞

*   **著者** - 製品管理、Jayant Sharma
*   **貢献者** - 製品管理、Jayant Sharma
*   **最終更新者/日付** - 2023年6月、製品マネージャー、Ramu Murakami Gutierrez氏