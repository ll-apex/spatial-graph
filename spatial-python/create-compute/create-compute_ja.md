# カスタム・イメージからのコンピュート・インスタンスの作成

## 概要

コンピュート・イメージは、Pythonが構成された状態で事前に作成されています。この演習では、そのイメージからコンピュート・インスタンスを作成します。

推定ラボ時間: xx分

### 目標

*   事前構成済のPythonを使用して、カスタム・イメージからコンピュート・インスタンスを作成します。

### 前提条件

*   前の演習の完了(Cloud ShellでのSSHキーの作成)

## タスク1: コンピュート・インスタンスの作成

1.  「コンピュート」→「インスタンス」にナビゲートします。 ![コンピュート・インスタンス](images/compute-01.png)
    
2.  **「インスタンスの作成」**をクリックします ![インスタンスの作成](images/compute-02.png)
    
3.  **my-compute**などの名前を入力するか、デフォルトのままにすることもできます。コンパートメントを作成した場合はそれを選択するか、デフォルト(ルート)のままにします。次に、「配置」セクションで**「編集」**をクリックします。 ![インスタンスの作成](images/compute-03.png)
    
4.  Always Freeリソースを使用する場合は、**VMを提供する可用性ドメインを選択します。Standard.E2.1。マイクロ・シェイプ**。 ![インスタンスの作成](images/compute-04.png)
    
5.  **「イメージとシェイプ」**セクションまで下にスクロールし、**「編集」**をクリックします。 ![インスタンスの作成](images/compute-05.png)
    
6.  **「イメージの変更」**をクリックします。 ![インスタンスの作成](images/compute-06.png)
    
7.  **「マイ・イメージ」**および**「イメージOCID」**を選択します ![インスタンスの作成](images/compute-07.png)
    
8.  次のOCIDをコピーして「イメージOCID」フィールドに貼り付け、**「イメージの選択」**をクリックします。
    
        <copy>
         ocid1.image.oc1..aaaaaaaan727cclmzfl2evanaacnganaeobmv6hvakjzqdsk4gncmcklcxha
        </copy>
        
    
    ![インスタンスの作成](images/compute-08.png)
    
9.  「ネットワーキング」セクションまで下にスクロールし、**「編集」**をクリックします。 ![インスタンスの作成](images/compute-09.png)
    
10.  既存のネットワークがある場合は、それを使用できます。それ以外の場合は、**「新規仮想クラウド・ネットワークの作成」**を選択します。名前には、**my-vcn**と **my-subnet**を入力するか、デフォルトのままにすることもできます。コンパートメントを作成した場合はそれを選択するか、デフォルト(ルート)のままにします。「パブリック」のIPv4アドレスで、**「パブリックIPv4アドレスの割当て」**が選択されていることを確認します。 ![インスタンスの作成](images/compute-10.png)
    
11.  **「SSHキーの追加」セクション**まで下にスクロールし、**「公開キーの貼付け」**を選択し、**「リストア」**をクリックしてクラウド・シェルを展開します。 ![インスタンスの作成](images/compute-11.png)
    
12.  クラウド・シェルで実行した最後のコマンドで、公開キーが出力されました。クラウド・シェルから公開キーをコピーし、「コンピュート・インスタンスの作成」ダイアログの「SSHキー」フィールドに貼り付けます。次に、Cloud Shellを縮小します。 ![インスタンスの作成](images/compute-12.png)
    
13.  **「作成」**をクリックします。 ![インスタンスの作成](images/compute-13.png)
    
14.  プロビジョニングが完了したら、コンピュート・インスタンスのパブリックIPアドレスをコピーし、クラウド・シェルをリストアします。 ![インスタンスの作成](images/compute-14.png)
    
15.  クラウド・シェルで次のコマンドを入力してコンピュート・インスタンスに接続します。ここでは、前のステップでコピーした\[IP address\]を貼り付けることができます。
    
        <copy>
         ssh -i ~/.ssh/my-ssh-key opc@[IP address]
        </copy>
        
    
    既知のホストのリストに追加するように求められたら、**yes**で応答します。 ![インスタンスの作成](images/compute-15.png)
    

コンピュート・インスタンスが作成され、SSHアクセスが確認されました。

## タスク2: ネットワーク・ポート8001を開く

1.  メイン・ナビゲーション・パネルから、**「ネットワーキング」**を選択します。次に、**「仮想クラウド・ネットワーク」**を選択します。 ![インスタンスの作成](images/compute-16.png)
    
2.  前のタスクで作成したVCNをクリックします。 ![インスタンスの作成](images/compute-17.png)
    
3.  下にスクロールして左側の**「セキュリティ・リスト」**をクリックし、**「my-vcnのデフォルト・セキュリティ・リスト」**をクリックします。 ![インスタンスの作成](images/compute-18.png)
    
4.  **「イングレス・ルールの追加」**をクリックします。 ![インスタンスの作成](images/compute-19.png)
    
5.  「ソースCIDR」に、**0.0.0.0/0**と入力します。「Destination Port Range」に **8001**と入力します。次に、**「イングレス・ルールの追加」**をクリックします。 ![インスタンスの作成](images/compute-20.png)
    
6.  下にスクロールして、ポート8001へのインバウンド・アクセスを許可する新しいイングレス・ルールを確認します。 ![インスタンスの作成](images/compute-21.png)
    

**次の演習に進む**ことができます。

## 確認

*   **著者** - Oracle、データベース製品管理、David Lapp氏
*   **最終更新者/日付** - David Lapp、Database Product Management、2023年6月