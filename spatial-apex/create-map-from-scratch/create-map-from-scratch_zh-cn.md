# 从头开始创建映射

## 简介

在此实验室中，您可以在应用程序中创建新页面，然后从头开始配置地图区域。

估计的实验室时间：15 分钟

### 目标

*   了解 APEX 映射区域的配置

### 先备条件

*   练习 2：使用向导创建映射

## 任务 1：创建新页

1.  在左上方的面包屑中，单击应用程序主目录的链接。然后单击**布局**选项卡。 ![页面布局](images/create-map-15a.png)
    
2.  单击**创建页**。 ![创建页向导](images/create-map-15b.png)
    
3.  您可以在此处选择“Map（映射）”以使用在“Create App（创建应用程序）”向导中看到的相同向导。但此步骤是从头开始创建映射，例如，如果您有现有页面。选择**空白页**，然后单击**下一步**。 ![选择空白页](images/create-map-16.png)
    
4.  对于名称，输入 **Airports and States Map** ，然后单击 **Next** 。 ![输入页面名称](images/create-map-16a.png)
    
5.  选择该选项以创建新的导航菜单条目，然后输入**机场和状态映射**，即与页名相同。然后单击**下一步**。 ![创建导航菜单条目](images/create-map-17.png)
    
6.  查看概要，然后单击**完成**。 ![查看概要](images/create-map-18.png)
    

## 任务 2：向页面添加映射

1.  从底部的“区域”选项板拖动**映射**，然后拖放到页面布局的“正文”部分下。观察“Map Region（映射区域）”将显示在页面树的“Body（正文）”下方，其默认名称为“New（新建）”。单击页树中的**新建**并观察其右侧的属性。请注意，“Region Type（区域类型）”为“Map（映射）”。 ![添加映射区域](images/create-map-19.png)
    
2.  在右侧的面板中，将“区域标题”从“新建”更新为您选择的名称，例如**我的地图区域**。观察标题在左侧的页面树中更新。 ![输入区域标题](images/create-map-20.png)
    
3.  请注意，“Map Region（映射区域）”包含一个名为“Layers（层）”的子元素，其默认层名为“New（新建）”。层是要在地图上呈现的数据驱动内容。单击页面树中的“层”**“新建”**可在右侧面板中查看其属性。 ![查看层属性](images/create-map-21.png)
    
4.  将层名称更新为 **Airports（机场）**，将 Type（类型）更新为 **Points（点）**。观察左侧页面树中的“图层名称”更新。 ![更新层属性](images/create-map-23.png)
    
5.  在右侧的图层属性面板中向下滚动。更新**源**以使用表 **EBA\_SAMPLE\_MAP\_AIRPORTS** 。要限制层中呈现的机场，请添加 where 子句 **LAND\_AREA\_COVERED > 2500** 。使用交换机启用“使用空间索引”选项。 ![更新层属性](images/create-map-24.png)
    
6.  在**列映射**部分右侧的“层属性”面板中向下滚动。您可以在此处配置要呈现的空间列。选择几何数据类型 **SDO\_GEOMETRY** 和几何列 **GEOMETRY** 。 ![更新层属性](images/create-map-25.png)
    
7.  在**信息窗口**部分右侧的“层属性”面板中向下滚动。您可以在此处配置在地图中单击项时弹出的信息窗口的内容。通过单击切换按钮启用**高级格式设置**，然后将以下内容粘贴到文本区域 **HTML 表达式**中：
    
        <copy>
        <strong>&AIRPORT_NAME.</strong><br>
        &CITY., &STATE_NAME.<br>
        Code: &IATA_CODE.
        </copy>
        
    
    ![更新层属性](images/create-map-25a.png)
    

## 任务 3：向映射添加层

1.  在左侧的页树中，右键单击“映射区域”下的**层**，然后选择**创建层**。 ![添加层](images/create-map-26.png)
    
2.  单击“Map Region（映射区域）”下的“Page（页面）”树中新创建的“Layer（层）”。然后，在右侧的“层详细信息”面板中，将“名称”更新为**状态**，将“层”类型更新为**多边形**，将“源”更新为 **EBA\_SAMPLE\_MAP\_SIMPLE\_STATES** 。 ![更新层属性](images/create-map-27.png)
    
3.  层将按照它们在页面树中的层下方的显示顺序呈现。要使“机场”呈现到顶部状态，请将**状态**层拖到页面树中的“层”下的“机场”层上方。在“列映射”部分右侧的“层详细信息”面板中向下滚动。选择几何数据类型 **SDO\_GEOMETRY** 和几何列 **GEOMETRY** 。在“外观”下，选择所选的填充和笔划（轮廓线）颜色。将填充不透明度设置为所选的值，并指出值 1 表示完全不透明，因此背景图不可见。 ![更新层顺序](images/create-map-28.png)
    
4.  在右上角，依次单击**保存**和绿色**运行**按钮。 ![保存并运行页](images/create-map-29.png)
    
5.  使用状态和机场层观察您的地图渲染。单击地图并将其拖动以平移，并使用右上方的导航控件放大和缩小。单击机场以查看您配置的信息窗口。将鼠标悬停在状态上可查看您配置的工具提示。使用地图下的复选框关闭和打开图层。 ![与地图交互](images/create-map-30.png)
    

祝贺您从头开始创建您的第一张地图。在下一个实验室中，您将空间分析纳入此地图。

实验室结束了。现在，您可以进入下一个实验室。

## 确认

*   **作者** - David Lapp，Oracle 数据库产品管理
*   **上次更新者/日期** - David Lapp，数据库产品管理，2023 年 3 月