# 新規マップの作成

## 概要

この演習では、アプリケーションに新しいページを作成し、マップ・リージョンを最初から構成します。

推定ラボ時間: 15分

### 目標

*   APEXマップ・リージョンの構成の理解

### 前提条件

*   演習2: ウィザードを使用したマップの作成

## タスク1: 新規ページの作成

1.  左上のブレッドクラムで、アプリケーション・ホームのリンクをクリックします。次に、**「レイアウト」**タブをクリックします。 ![ページのレイアウト](images/create-map-15a.png)
    
2.  「**ページの作成**」をクリックします。 ![ページの作成ウィザード](images/create-map-15b.png)
    
3.  ここで「マップ」を選択すると、アプリケーションの作成ウィザードで確認したウィザードと同じウィザードが表示されます。ただし、このステップでは、既存のページがある場合など、最初からマップを作成します。**「空白ページ」**を選択し、**「次へ」**をクリックします。 ![空白ページの選択](images/create-map-16.png)
    
4.  名前に**Airports and States Map**と入力し、**「次へ」**をクリックします。 ![ページ名の入力](images/create-map-16a.png)
    
5.  新しいナビゲーション・メニュー・エントリを作成するオプションを選択し、**「空港および都道府県マップ」**(ページ名と同じ)を入力します。次に、**「次へ」**をクリックします。 ![ナビゲーション・メニュー・エントリの作成](images/create-map-17.png)
    
6.  サマリーを確認し、**「Finish」**をクリックします。 ![サマリーの確認](images/create-map-18.png)
    

## タスク2: ページへのマップの追加

1.  下部の「リージョン」パレットから**「マップ」**をドラッグし、ページ・レイアウトの「本文」セクションの下にドロップします。ページ・ツリーの「Body」の下に「Map Region」がデフォルト名「New」で表示されることを確認します。ページ・ツリーで**「新規」**をクリックし、右側のプロパティを確認します。「Region Type(リージョン・タイプ)」が「Map(マップ)」であることを確認します。 ![マップ・リージョンの追加](images/create-map-19.png)
    
2.  右側のパネルで、「リージョン・タイトル」を「新規」から選択した名前(**「マイ・マップ・リージョン」**など)に更新します。左側のページ・ツリーでタイトルが更新されていることを確認します。 ![リージョン・タイトルの入力](images/create-map-20.png)
    
3.  マップ・リージョンに、「新規」というデフォルトのレイヤーを持つ「レイヤー」という子要素が含まれていることを確認します。レイヤーは、マップにレンダリングされるデータドリブン・コンテンツです。ページ・ツリーのレイヤー**「新規」**をクリックして、右側のパネルにそのプロパティを表示します。 ![レイヤー・プロパティの表示](images/create-map-21.png)
    
4.  「レイヤー名」を**「空港」**に、「タイプ」を**「ポイント」**に更新します。左側のページ・ツリーでレイヤー名の更新を確認します。 ![レイヤー・プロパティの更新](images/create-map-23.png)
    
5.  右側の「レイヤー」プロパティ・パネルを下にスクロールします。表**EBA\_SAMPLE\_MAP\_AIRPORTS**を使用するように**Source**を更新します。レイヤーにレンダリングされる空港を制限するには、where句**LAND\_AREA\_COVERED > 2500**を追加します。スイッチを使用して「空間索引の使用」オプションを有効にします。 ![レイヤー・プロパティの更新](images/create-map-24.png)
    
6.  **「列マッピング」**セクションの右側にある「レイヤー」プロパティ・パネルを下にスクロールします。ここでは、レンダリング用に空間列を構成します。ジオメトリ・データ型**SDO\_GEOMETRY**およびジオメトリ列**GEOMETRY**を選択します。 ![レイヤー・プロパティの更新](images/create-map-25.png)
    
7.  **「情報ウィンドウ」**セクションの右側にある「レイヤー」プロパティ・パネルを下にスクロールします。ここでは、マップ内の項目をクリックしたときにポップアップする情報ウィンドウのコンテンツを構成できます。スイッチ・ボタンをクリックして**「拡張書式設定」**を有効にし、テキスト領域の**「HTML式」**に次のように貼り付けます。
    
        <copy>
        <strong>&AIRPORT_NAME.</strong><br>
        &CITY., &STATE_NAME.<br>
        Code: &IATA_CODE.
        </copy>
        
    
    ![レイヤー・プロパティの更新](images/create-map-25a.png)
    

## タスク3: マップへのレイヤーの追加

1.  左側のページ・ツリーで、マップ・リージョンの下の**「レイヤー」**を右クリックし、**「レイヤーの作成」**を選択します。 ![レイヤーの追加](images/create-map-26.png)
    
2.  「マップ・リージョン」の下の「ページ」ツリーで、新しく作成したレイヤーをクリックします。次に、右側の「レイヤー詳細」パネルで、「名前」を**「状態」**、「レイヤー・タイプ」を**「ポリゴン」**、「ソース」を**EBA\_SAMPLE\_MAP\_SIMPLE\_STATES**に更新します。 ![レイヤー・プロパティの更新](images/create-map-27.png)
    
3.  レイヤーは、ページ・ツリーの「レイヤー」の下に表示される順序でレンダリングされます。Airportsを上位の状態にレンダリングするには、ページ・ツリーの「レイヤー」の下の「空港」レイヤーの上に**「状態」**レイヤーをドラッグします。右側の「列マッピング」セクションにある「レイヤー詳細」パネルを下にスクロールします。ジオメトリ・データ型**SDO\_GEOMETRY**およびジオメトリ列**GEOMETRY**を選択します。\[外観\]で、選択した塗りつぶしとストローク(アウトライン)の色を選択します。塗りつぶしの不透明度を任意の値に設定します。値が1の場合、背景マップが表示されないように完全に不透明になります。 ![レイヤーの順序を更新](images/create-map-28.png)
    
4.  右上にある**「保存」**をクリックし、**「実行」**ボタンを緑色にします。 ![ページの保存と実行](images/create-map-29.png)
    
5.  州および空港レイヤーを使用したマップ・レンダリングを確認します。マップをクリックしてドラッグしてパンし、右上のナビゲーション・コントロールを使用してズーム・インおよびズーム・アウトします。空港をクリックして、構成した情報ウィンドウを表示します。状態の上にマウスを置くと、構成したツールチップが表示されます。マップの下のチェックボックスを使用して、レイヤーをオフまたはオンにします。 ![マップとの対話](images/create-map-30.png)
    

最初のマップを最初から作成しておめでとうございます。次の演習では、このマップに空間分析を組み込みます。

これでラボは終了です。次の演習に進むことができます。

## 謝辞

*   **著者** - Oracle、データベース製品管理、David Lapp氏
*   **最終更新者/日付** - Database Product Management、David Lapp、2023年3月